%!TEX root = main.tex

\section{Introduction}

\subsection{The Delsarte bound}

	Denote by $\mathcal{M}_n(\C)$ the $\C$-vector space of all $n \times n$ complex matrices.

	\begin{fdef}
		A subspace $\mathcal{A} \subseteq \mathcal{M}_n(\C)$ is said to be a \emph{$*$-algebra of matrices} if
		\begin{enumerate}
			\item $\mathcal{A}$ is closed under multiplication, in that if $A,B \in \mathcal{A}$, then $AB \in \mathcal{A}$, and
			\item $\mathcal{A}$ is closed under conjugate transposes, in that if $A = (a_{ij}) \in \mathcal{A}$, then $A^\dagger = (\overline{a_{ji}}) \in \mathcal{A}$.
			\item $\Id \in \mathcal{A}$.
		\end{enumerate}
	\end{fdef}

	That is, it is a subalgebra that is closed under conjugate transposes.


	Let $q$ be a prime power. Denote by $B_q(n)$ the set of all subspaces of $\F_q^n$ and $B_q(n,k)$ the set of all $k$-dimensional subspaces of $\F_q^n$. It is not too difficult to show that
	\[ |B_q(n,k)| = \binom{n}{k}_q = \frac{(q^n-1)(q^n-q)(q^n-q^2)\cdots(q^n-q^{n-k+1})}{(q^k-1)(q^k-q)(q^k-q^2)\cdots(q^k-q^{k-1})}. \]
	We had also considered this quantity $\binom{n}{k}_q$ in Section 1.4 of \href{https://amitrajaraman.github.io/notes/ma-861/main.pdf}{Combinatorics I}. Recall the $q$-Pascal recurrence
	\begin{equation}
		\label{eqn: q-pascal}
		\binom{n+1}{k}_q = \binom{n}{k-1}_q + q^k \binom{n}{k}_q
	\end{equation}
	for $n\ge 0, k \ge 1$ with $\binom{n}{0}_q = 1$ and $\binom{0}{k} = \delta_{0,k}$. Is there a way to see this recurrence more directly using the subspace perspective of the $q$-binomial coefficient? If we have a (size $k$) basis of a $k$-dimensional subspace of $\F_q^n$, and consider the $k \times n$ matrix with rows equal to the vectors in this basis, we may bring this matrix to a \emph{unique} row-reduced echelon form (independent of the basis used) using row operations wherein
	\begin{enumerate}[label=(\roman*)]
		\item all rows are nonzero,
		\item the first non-zero entry in every row is a $1$. Suppose this entry occurs in column $C_i$ in row $i$,
		\item $C_1 < C_2 < \cdots C_k$, and
		\item the submatrix comprising the $\{C_1,\ldots,C_k\}$ rows is a $k \times k$ identity matrix.
	\end{enumerate}
	So, we can count $k \times n$ matrices in RREF instead of subspaces. \Cref{eqn: q-pascal} then follows immediately by considering whether the last column is pivotal or not.

	\begin{fdef}
		Let $A$ be Hermitian. Then, $\langle A\rangle$, the $*$-algebra generated by $A$, is $\Span\{\Id,A,A^2,\ldots\}$.
	\end{fdef}

	Note that this algebra is abelian. Furthermore, by the spectral theorem, $\dim(\langle A\rangle)$ is the number of distinct eigenvalues of $A$.\\ % *** EXPLAIN ***

	For $A \in \mathcal{M}^n(\C)$ similar to a Hermitian matrix, that is, $PAP^{-1}$ is Hermitian for some $P$, $P\langle A\rangle P^{-1}$ is a $*$-algebra.
	
	\begin{fex}[$*$-algebras on graphs]
		\label{exmp: star-alg}
		Let $G = (V,E)$ be a graph and $A$ its adjacency matrix. $\langle A\rangle$ is called the \emph{adjacency algebra} of $G$. \\

		More specifically, consider the $n$-cube graph $C_n$ with vertex set $B(n)=2^{[n]}$ and an edge between $X,Y$ if $|X \triangle Y| = 1$. Although $\langle A\rangle$ is $*$-algebra of $2^n \times 2^n$ matrices, its dimension is only $n+1$. The fact that we only require $n+1$ parameters to describe an arbitrary element of $\langle A\rangle$ is key to the Delsarte bound on binary code size we shall study in this section.\\

		Let $k \le n/2$. The Johnson graph has vertex set $B(n,k) = \binom{[n]}{k}$ and an edge between $X,Y$ if $|X \cap Y| = k-1$. The dimension of this graph's adjacency algebra turns out to be $k+1$.\\

		The Grassmann graph $J_q(n,k)$ has vertex set $B_q(n,k)$ (see above the example for definition) with $X,Y \in B_q(n,k)$ adjacent iff $\dim(X \cap Y) = k-1$. It turns out that the dimension of this graph's adjacency algebra is $k+1$ as well. Interestingly, the proof for this ends up just being a ``$q$-analogue'' of the proof for the Johnson graph.\\

		The $q$-analogue of the $n$-cube $C_q(n)$ has vertex set $B_q(n)$ with $X,Y$ adjacent iff $|\dim X - \dim Y| = 1$. We do not know the dimension of this graph's adjacency algebra! The adjacency matrix seems difficult to study (and is perhaps not even the right object to study). We shall instead study a weighted adjacency matrix of $C_q(n)$.
	\end{fex}

	All the above examples are commutative. \href{https://amitrajaraman.github.io/notes/rep-th/main.pdf}{Recall} that a \emph{unitary representation} of a group $G$ is a group homomorphism $\varphi : G \to \mathcal{U}_n(\C)$.

	\begin{ftheo}
		Let $f$ be a unitary representation as above. Then,
		\[ \mathcal{A} = \{A \in \mathcal{M}_n(\C) : A \varphi(g) = \varphi(g) A \text{ for all } g \in G \} \]
		is a $*$-algebra called the \emph{commutant} of $\varphi$.
	\end{ftheo}
	\begin{proof}
		It is obvious that $\mathcal{A}$ is a subspace that is closed under multiplication. We have for $A \in \mathcal{A}, g \in G$ that
		\[ \varphi(g^{-1}) = \varphi(g)^{-1} = \varphi(g)^\dagger, \]
		so
		\[ A^\dagger \varphi(g) = (\varphi(g)^\dagger A)^\dagger = (\varphi(g^{-1}) A)^\dagger = (A \varphi(g)^{-1})^\dagger = \varphi(g) A^\dagger, \]
		which easily yields the desideratum.
	\end{proof}

	The above $*$-algebra may be possible be non-commutative. Suppose that $G$ acts on a set $S$. For each $g$, we can denote the group action by an $S \times S$ permutation matrix $\rho(g)$, with $(\rho(g))_{gs,s} = 1$. This gives a \emph{representation} $\rho : G \to \mathcal{U}_{S}(\C)$ -- any group action thus yields a $*$-algebra.\\
	We would like to analyze the set of matrices which commute with all $\rho(g)$. Let $G$ act on the sets $S,T$, and let $\rho : G \to \mathcal{U}_S(\C), \tau : G \to \mathcal{U}_T(\C)$ be the corresponding maps. Consider
	\[ \mathcal{A} = \left\{ M \in \mathcal{M}_{S \times S}(\C) : M \rho(g) = \tau(g) M \text{ for all $g \in G$} \right\}. \]
	Finally, we shall set $S = T$ so that it is a $*$-algebra.

	\begin{flem}
		Let $M \in \mathcal{M}_{T \times S}(\C)$. Defining $\mathcal{A}$ as above, $M \in \mathcal{A}$ iff $M_{t,s} = M_{gt,gs}$ for all $g \in G, t \in T,s \in S$.
	\end{flem}
	\begin{proof}
		The $t,s$th entry of $M\rho(g)$ is equal to $M_{t,gs}$, and that of $\tau(g)M$ is $M_{g^{-1}t,s}$. The required follows.
	\end{proof}

	Now, the two actions induce an action on $T \times S$. $M$ belongs to $\mathcal{A}$ iff it is constant on the orbits of this action. Consequently, the dimension of $\mathcal{A}$ is the number of orbits of the action of $G$ on $T \times S$, with a basis being the set of matrices $M_j$ which are equal to $1$ on precisely those cells in the same orbit $\theta_j$ and $0$ elsewhere.\\
	This basis of $\mathcal{A}$ is called its \emph{orbital basis}.

	\begin{flem}[Gelfand's Lemma]
		\label{lem: gelfands lemma}
		Let $T = S$ in the above discussion. If each $M_j$ is symmetric, $\mathcal{A}$ is commutative.
	\end{flem}
	\begin{proof}
		Since each $M_j$ is symmetric and orthogonal, all matrices in $\mathcal{A}$ are symmetric. We are done if we show that a $*$-algebra of symmetric matrices is commutative. Indeed, $MN = (MN)^\top = N^\top M^\top = NM$.
	\end{proof}

	Note that the converse does \emph{not} hold; we shall see a counterexample later. Let us get back to our earlier discussion in \Cref{exmp: star-alg}. Think of $B(n)$ as $\{0,1\}^n$. Consider the \emph{hyperoctahedral group} $H(n)$, which has base set equal to $S_2^n \times S_n$, with elements denoted $(\sigma_1,\sigma_2,\ldots,\sigma_n,\pi)$. This group acts on $B(n)$ by first permuting the $n$ coordinates according to $\pi$, then deciding whether or not to flip the entries based on the $(\sigma_i)$. Note that adjacency is preserved under the group action. In fact, $H(n)$ is the set of all permutations that preserve adjacency.\\
	The group action can be thought of as first taking the vertex to any other arbitrary vertex, then permuting the $n$ outgoing edges in some manner -- these two together further determine the group element.\\

	Let $\alpha,\beta,\alpha',\beta' \in B(n)$. We denote by $d(\alpha,\beta)$ the set of coordinates where $\alpha,\beta$ differ. We write $(\alpha,\beta) \sim (\alpha',\beta')$ if the two are in the same $H(n)$-orbit.

	\begin{flem}
		$(\alpha,\beta)$ and $(\alpha',\beta')$ are in the same $H(n)$-orbit iff $d(\alpha,\beta) = d(\alpha',\beta')$.
	\end{flem}
	\begin{proof}
		The forward direction is straightforward -- permuting the coordinates leaves the distance the same and flipping a select set of coordinates of both also leaves the distance unchanged.\\
		For the backward direction, suppose $d(\alpha,\beta) = d(\alpha',\beta') = k$. Consider the permutation applied to $\alpha$ which has all $0$s at the start then all $1$s. Then, flip all the $1$s in $\alpha$. Consider the element $\beta''$ obtained by performing the same operations on $\beta$. Due to the first part, $\beta''$ has exactly $k$ $1$s. Next, permute the coordinates of $\beta''$ to get $\beta'''$, which has all $0$s at the start then all $1$s. $(0,\beta''')$ is in the same orbit as $(\alpha,\beta)$. By performing similar operations, it is also in the same orbit as $(\alpha',\beta')$, completing the proof. 
	\end{proof}

	Let $A_0,A_1,\ldots,A_n$ be the $n$ orbital bases of $B(n) \times B(n)$ under the group action $H(n)$, defined by
	\[ A_j(\alpha,\beta) = \begin{cases} 1, & d(\alpha,\beta) = j, \\ 0, & \text{otherwise.} \end{cases} \]
	Going back to the perspective of $B(n)$ containing subsets of $[n]$,
	\[ A_j(X,Y) = \begin{cases} 1, & |X\triangle Y| = j, \\ 0, & \text{otherwise.} \end{cases} \]
	Note that $A_1$ is the adjacency matrix $A$ of the $n$-cube graph $C(n)$!
	% CAL A HAS SOME SPECIAL NAME HERE, CHECK NOTES
	\begin{fprop}
		It holds that $\langle A\rangle = \Span\{A_0,A_1,\ldots,A_n\}$.
	\end{fprop}
	\begin{proof}
		Denote by $\mathcal{A}$ the algebra on the right, which is the commutant of the $H(n)$ action on $B(n)$. Because $A_1 = A$ is in $\mathcal\{A\}$, $\langle A\rangle \subseteq \mathcal{A}$. It remains to show the reverse containment, which is implied if we show that $A_j \in \langle A\rangle$ for each $j$. If $A_j \in \langle A\rangle$, then $AA_j$ is just some linear combination of $A_0,A_1,\ldots,A_{j+1}$ (with a positive coefficient on $A_{j+1}$), completing the proof.
	\end{proof}

	\begin{fcor}
		The adjacency matrix $A$ of the $n$-cube graph has $n+1$ distinct eigenvalues.
	\end{fcor}

	A natural next question is: what are these $n+1$ eigenvalues, and what are each of their eigenspaces and multiplicities?\\
	As a little spoiler, we answer these questions: the eigenvectors are $n-2k$ for $k=0,1,\ldots,n$, with $n-2k$ having multiplicity $\binom{n}{k}$.